# C程序设计语言（第2版）

## 前言：

练习中使用的软件为VS CODE，想要跟着练习的可以提前安装好软件。

## 第1章 导言

**概述：** 第1章内容主要是通过将一些重要的概念拉出来，让大家了解什么是C语言，以及它能够干什么，里面也附有一些习题，对零基础人员来说有点难度，建议第一遍学习时看一下就行，先把后面的学习完后有时间可以在过来过一遍。

## 第2章 类型、运算符与表达式

**概述：** 

### 2.1 变量名

-  变量名由**字母**和**数字**组成，**首位不能为数字**（“_"被看作字母）
- 库例程的名字通常以下划线开头，因此变量名不要以下划线开头
- 大小写有区分
- 关键字如:if、else、int等字符必须小写

### 2.2  数据类型及长度

-  C语言**基本数据类型**

|     **char 字符型**     |   **1 Byte**   |
| :---------------------: | :------------: |
|      **int 整型**       | **2 / 4 Byte** |
| **float 单精度浮点型**  |   **4 Byte**   |
| **double 双精度浮点型** |   **8 Byte**   |

- 在基础数据类型的基础上，可以添加**限定符**来限定数据的取值范围

|  **short**   |  **限定整型**(可省略int)   |
| :----------: | :------------------------: |
|   **long**   |  **限定整型(可省略int)**   |
|  **signed**  | **限定char类型或任何整型** |
| **unsigned** | **限定char类型或任何整型** |

- 代码实现获取数据类型长度：

```c
#include <stdio.h>

int main()
{
    /*basic types*/
    printf("size of char : %lu\n",sizeof(char));
    printf("size of int : %lu\n",sizeof(int));
    printf("size of float : %lu\n",sizeof(float));
    printf("size of double : %lu\n",sizeof(double));
    
    /*short/long types*/
    printf("size of short : %lu\n",sizeof(short));
    printf("size of long : %lu\n",sizeof(long));
}
```

![](Git_pic/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E9%95%BF%E5%BA%A6%E8%BE%93%E5%87%BA.png)

注：格式字符%d、%s等见第七章-格式化输出

### 2.3 常量

- 整数常量

|       **int类型**        | **1234**                                               |
| :----------------------: | ------------------------------------------------------ |
|       **long类型**       | **123456789l / 123456789L**                            |
|  **unsigned long类型**   | **ul / UL**                                            |
| **八进制或十六进制表示** | **十进制：31 -> 八进制：037 -> 十六进制：0x1f / 0X1F** |

- 浮点数常量

| **double类型（没有后缀默认）** | **123.4 、1e-2** |
| :----------------------------: | ---------------- |
|         **float类型**          | 1.2f             |
|      **long double类型**       | ****.****l / L   |

- 字符常量

一个字符常量是一个整数，对应机器字符集中的特定数值，可以参与运算，如ASCII字符集中‘0’的值为48。

- 转义字符

转义字符用反斜杠\后面跟一个字符或一个八进制或十六进制数表示。

ANSI C语言中的全部转义字符序列如下表示：

| **转义字符**       | **ASCII码值（十进制）** | **转义字符**                          | **ASCII码值（十进制）** |
| ------------------ | ----------------------- | ------------------------------------- | ----------------------- |
| **\a  响铃符**     | **007**                 | **\?  问号**                          | **063**                 |
| **\b  回退符**     | **008**                 | **\'  单引号（引号前有\）**           | **039**                 |
| **\f  换页符**     | **012**                 | **\"  双引号（引号前有\）**           | **034**                 |
| **\n 换行符**      | **010**                 | **\ooo  任意三位八进制数，如'\013'**  |                         |
| **\r  回车符**     | **013**                 | **\xhh  任意两位十六进制数，如'\xb'** |                         |
| **\t  横向制表符** | **009**                 |                                       |                         |
| **\v  纵向制表符** | **011**                 |                                       |                         |

- 常量表达式

仅包含常量的表达式，如：

```c
#define MAXLINE 1000
char line[MAXLINE+1]
```

- 字符串常量

字符串常量是用双引号括起来的0个或多个字符组成的字符序列，如：

```c
"I am a string"
```

或

```c
""/*空字符串*/
```

注：字符串内部表示用一个空字符'\0'作为串的结尾。标准库函数strlen(s)可以返回字符串参数s的长度，但长度不包含末尾的'\0'。

- 枚举常量

枚举是一个常量整型值的列表。

若无显式说明，则列表中第一个枚举名的值为0，第二个为1，如：

```C
enum boolean{NO,YES};
```

若指定了部分值，则未指定的枚举名的值依次递增，如：

```c
enum escapes{BELL = '\a',BACKSPACE = '\b',TAB = '\t',NEWLINE = '\n',VTAB = '\v',RETURN = '\r'}
```

或

```C
enum months{JAN = 1,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC};/*FEB的值为2，MAR的值为3，以此类推*/
```

若调整步距值呢？效果如下：

![](Git_pic/enum%E6%AD%A5%E8%B7%9D2.png)

![](Git_pic/enum%E6%AD%A5%E8%B7%9D1.png)

由此可见，enum中后续相邻枚举名自动生成的值只加1。

### 2.4 声明

所有变量必须先声明后使用。

### 2.5 算数运算符

运运算符按操作数个数可分为一元运算符（含一个操作数）和二元运算符（含两个操作数）。一元运算符的优先级一般高于二元运算符。

一元运算符：+（正号）、-（负号）、++（增1）、--（减1）。

二元算数运算符包括：+（加）、-（减）、*（乘）、/（除）、%（取模）。

注：

- 整数除法会截断结果中的小数部分
- %不能应用于float或double类型

```c
/*
案例：判断闰年：年份能被4整除，不能被100整除或能被400整除
*/
#include <stdio.h>
int main()
{
    int year;
    printf("请输入一个年份：\n");
    scanf("%d",&year);
    if((year % 4 ==0 && year % 100 != 0 ) || year % 400 ==0 )
        printf("%d年是闰年。\n",year);
    else
        printf("%d年不是闰年。\n",year);
}
```

### 2.6 关系运算符与逻辑运算符

关系运算符包括：>、>=、<、<=。

逻辑运算符：&&（与）、||（或）。

### 2.7 类型转换

- 自动转换：将“比较窄的”操作数转换为“比较宽的”操作数，并且不丢失信息的转换。
- 将字符类型转换为整型时，由于C未指定char类型的变量是signed还是unsigned，所以在不同机器中将char转换为int结果可能不同。
- 为了保证程序的可移植性，若要在char类型变量中存储非字符数据时，建议指定是否带符号。
- C语言中的隐式转换：运算前将“较低”的类型提升为“较高”的类型，运算结果为较高的类型。
- 赋值时，会把赋值运算符右边的值转换为左边变量的类型。
- 当把较长的整数转换为较短的整数或char类型时，超出的高位部分将被丢弃。
- 任何表达式中都可以用强制类型转换的一元运算符强制进行显式类型转换，如：

```c
sqrt((double)n)
  /*
  强制类型转换只是生成一个指定类型的值，n本身没有改变。
  */
```

​	一般参数可以通过函数原型声明，这样调用函数时会自动对参数转换类型，如：

```c
double sqrt(double);
root = sqrt(2)
```

### 2.8 自增运算符与自减运算符

前缀表达式（如：x=++n;），变量自加/减1，表达式为变量加/减1后的数值；

后缀表达式（如：x=n--;），变量自加/减1，表达式为变量加/减1前的数值。

```c
x=n++;    /*若n=5,则执行完毕后，n=6,x=5*/
x=++n;    /*若n=5,则执行完毕后，n=6,x=6*/
x=n--;    /*若n=5,则执行完毕后，n=4,x=5*/
x=--n;    /*若n=5,则执行完毕后，n=4,x=4*/
```

### 2.9 位运算符



### 2.10 赋值运算符与表达式



### 2.11 条件表达式



### 2.12 运算符优先级与求值次序





## 第3章 控制流

**概述：** 



## 第4章 函数与程序结构

**概述：** 



## 第5章 指针与数组

**概述：** 



## 第6章 结构

**概述：** 



## 第7章 输入与输出

**概述：** 



## 第8章 UNIX系统接口

**概述：** 

